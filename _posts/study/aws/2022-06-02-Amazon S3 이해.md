---
layout: post
title: Amazon S3 이해
subtitle: AWS
date: '2022-06-02 23:30:00 +0900'
category: study
tags: aws
image:
  path: /assets/img/study_AWS/aws_logo.png
---

AWS 서비스 중 하나인 **Amazon S3**를 이해해보자.

<!--more-->

* this unordered seed list will be replaced by the toc
{:toc}

<hr/>

## 1. Amazon S3 개요

**Amazon Simple Storage Service(Amazon S3)**는 업계 최고의 확장성, 데이터 가용성, 보안 및 성능을 제공하는 객체 스토리지 서비스라고 AWS에서 소개하고 있다. <br>
모든 규모와 업종의 사용자는 Amazon S3를 사용하여 데이터 레이크, 웹 사이트, 모바일 애플리케이션, 백업 및 복원, 아카이브, 엔터프라이즈 애플리케이션, IoT 디바이스, 빅 데이터 분석 등 다양한 사용 사례에서 원하는 양의 데이터를 저장하고 보호할 수 있다. <br>
Amazon S3는 특정 비즈니스, 조직 및 규정 준수 요구 사항에 맞게 데이터에 대한 액세스를 최적화, 구조화 및 구성할 수 있는 관리 기능을 제공한다.<br>

<hr/>

## 1. Amazon S3 기능

### i. Storage Classes

Amazon S3는 여러 사용 사례에 맞춰 설계된 다양한 스토리지 클래스를 제공한다.<br>
다음은 S3 콘솔에서 확인할 수 있는 스토리지 클래스이다.

#### 스토리지 클래스 유형

![Storage_Class](/assets/img/study_AWS/Amazon S3 이해/Storage_Class.png)

내구성은 법적으로 AWS가 보장하는 수치이다.<br>
가용 영역은 물리적으로 저장되는 리전을 뜻한다.

스토리지 클래스는 크게 총 네 가지 클래스로 나눌 수 있다.<br>
**스탠다드(Standard)**, **스탠다드-IA(Standard Infrequent Access)**, **단일 영역-IA**, **글래시어(Glacier)**가 바로 그것이다.

* **스탠다드(Standard)**
    + 가장 일반적인 요금제
    + 비싼 스토리지 요금, 저렴한 트래픽 요금
    + **자주 액세스하는 데이터에 적합**

* **스탠다드-IA(Standard Infrequent Access)**
    + 스탠다드에 비해서 스토리지 요금은 저렴하나 트래픽 요금은 비싸짐 
    + **사용 빈도가 다소 낮은 데이터에 적합**
    + 예) 시간이 지날수록 점점 수요가 줄어드는 뉴스 페이지
        - 추후에 기사가 이슈화되어 트래픽이 몰릴 수 있기 때문에 스탠다드-AI에 적합

* **단일 영역-IA(One Zone-IA)**
    + 스탠다드 데이터는 사동적으로 3곳 이상의 물리적 가용 영역에 백업되지만, 단일 영역-IA는 단일 가용영역에만 저장되기 때문에 재해 등의 이유로 손실될 수 있음
    + 스탠다드-IA에 비해서 스토리지 요금이 더 저렴하고 트래픽 요금은 같음
    + **사용 빈도가 낮고 중요도가 떨어지는 데이터에 적합**
    + 예) 트래픽 로그와 같은 많이 발생하지만 없어져도 당장의 큰 영향을 주지 않는 데이터

* **글래시어(Glacier)**
    + Glacier는 **빙하**를 의미함
    + 위 클래스들보다도 더 저렴한 스토리지 요금을 갖지만 훨씬 비싼 트래픽 요금을 가짐
    + 데이터 다운로드시에도 몇 시간 단위의 시간이 걸림
    + **사용 빈도가 극히 낮은 데이터에 적합**
    + 예) 거의 열어볼 일은 없지만 장기간 지속적으로 보관해야하는 아카이브용 데이터
    + Glacier 클래스에는 **Instant Retrieval**, **Flexible Retrieval**, **Deep Archive** 종류가 있음
        - **Instant Retrieval** : 밀리초 단위의 즉각적인 검색을 이용하여 분기에 한 번 액세스하는 장기 아카이브 데이터용
        - **Flexible Retrieval** : 검색 옵션이 1분부터 12시간까지인 장기 백업 및 아카이브용
        - **Deep Archive** : 일년에 한두 번 액세스하고 12시간 이내에 복원할 수 있는 장기 데이터 아카이브용

#### 스토리지 클래스별 요금

스토리지 클래스 요금은 크게 세 가지 영역으로 나뉜다.

**스토리지 요금**은 저장 공간에 따른 요금<br>
**요청 및 데이터 검색 요금**은 사용자의 요청에 따른 수행 요금<br>
**데이터 전송 요금**은 송수신 대역폭에 대한 요금

항목별로 하나하나 살펴보자.<br>
**요청 단위는 PUT, COPY, POST, LIST 요청(요청 1,000개당)이다.**<br>
기준은 서울 리전이다.

* **스토리지 요금**

    + **스탠다드(Standard)**
        - 처음  50TB/월 : GB당 0.025 USD
        - 다음 450TB/월 : GB당 0.024 USD
        - 500TB 초과/월 : GB당 0.023 USD

    +  **스탠다드-IA(Standard Infrequent Access)**
        - 모든 스토리지/월 : GB당 0.0138 USD

    +  **단일 영역-IA(One Zone-IA)**
        - 모든 스토리지/월 : GB당 0.011 USD

    +  **글래시어(Glacier)**
        - Instant Retrieval 모든 스토리지/월 : GB당 0.005 USD
        - Flexible Retrieval 모든 스토리지/월 : GB당 0.0045 USD
        - Deep Archive 모든 스토리지/월 : GB당 0.002 USD

    > 스토리지 요금 요약<br>
    > 스탠다드 >> 스탠다드-IA > 단일 영역-IA >> Instant Retrieval > Flexible Retrieval >> Deep Archive

* **요청 및 데이터 검색 요금**

    + **스탠다드(Standard)**
        - 0.0045 USD

    +  **스탠다드-IA(Standard Infrequent Access)**
        - 0.01 USD

    +  **단일 영역-IA(One Zone-IA)**
        - 0.01 USD

    +  **글래시어(Glacier)**
        - Instant Retrieval : 0.02 USD
        - Flexible Retrieval : 0.03258 USD
        - Deep Archive : 0.06 USD

    > 요청 및 데이터 검색 요금 요약<br>
    > Deep Archive >> Flexible Retrieval > Instant Retrieval >> 단일 영역-IA = 스탠다드-IA > 스탠다드

* **데이터 전송 요금**

    데이터 전송 요금은 클래스별로 구분되지 않고 공통적으로 부과된다.<br>
    요금은 다음과 같다.

    ![Data_Transfer_fee](/assets/img/study_AWS/Amazon S3 이해/Data_Transfer_fee.png)

    인터넷에서 Amazon S3로 데이터를 수신할 때(Amazon S3에 업로드 할 때)의 요금은 **무료**이다.<br>
    Amazon S3에서 인터넷으로 데이터를 송신할 때(Amazon S3에서 다운로드 할 때)의 요금은 매달 100GB의 무료 데이터 전송을 사용한 뒤 부과된다.



* Ref
  - [AWS UserGuide amazon vpc](https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/what-is-amazon-vpc.html)
  - [Medium](https://medium.com/harrythegreat/s3%EC%9D%98-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%ED%81%B4%EB%9E%98%EC%8A%A4%EC%97%90-%EB%8C%80%ED%95%B4-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-1f2fa500c484)
  - [Youtube](https://youtu.be/6P6HoumuTOw)


